<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <title>Title</title>

    <script src="https://widget.cloudpayments.ru/bundles/cloudpayments"></script>

</head>

<body>

<input class="btn" id="payButton" value="Оплатить" type="button">



<style>

.btn {

  color: white;

  background: #5e97f9;

  border: none;

  padding: 15px 30px;

  font-size: 18px;

  font-weight: bold;

  border-radius: 10px;

}



.btn:hover {

  background: #3c6bbd;

  transition: all 0.5s ease-out;

}



body {

  position: relative;

  line-height: 700px;

}

input {

  margin-top: 100px;

  position: absolute;

  left: 50%;

  top: 50%;

  display: inline-block;

  vertical-align: middle;

}



</style>

<script  type="text/javascript">

let btn = document.getElementById("payButton")

//let language = navigator.language //or fix

let language = "ru-RU"



function pay() {

  var widget = new cp.CloudPayments({

    language: language

  })

  widget.pay('auth', // или 'charge'

    { //options

      publicId: 'test_api_00000000000000000000002', //id из личного кабинета

      description: 'Оплата товаров в example.com', //назначение

      amount: 1000, //сумма

      currency: 'RUB', //валюта

      accountId: 'user@example.com', //идентификатор плательщика (необязательно)

      invoiceId: '1234567', //номер заказа  (необязательно)

      skin: "mini", //дизайн виджета (необязательно)

      autoClose: 3

    }, {

      onSuccess: function(options) { // success

        //действие при успешной оплате

      },

      onFail: function(reason, options) { // fail

        //действие при неуспешной оплате

      },

      onComplete: function(paymentResult, options) { //Вызывается как только виджет получает от api.cloudpayments ответ с результатом транзакции.

        //например вызов вашей аналитики Facebook Pixel

      }

    }

  )

}



//window.addEventListener('load', pay)

btn.addEventListener('click', pay)





</script>

</body>



</html>